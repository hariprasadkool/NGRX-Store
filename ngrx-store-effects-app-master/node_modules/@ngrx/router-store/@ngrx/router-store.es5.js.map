{"version":3,"file":"router-store.es5.js","sources":["../../../modules/router-store/index.ts","../../../modules/router-store/src/router_store_module.ts","../../../modules/router-store/src/serializer.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {ROUTER_ERROR,ROUTER_CANCEL,ROUTER_NAVIGATION,RouterNavigationAction,RouterCancelAction,RouterErrorAction,RouterAction,routerReducer,RouterErrorPayload,RouterReducerState,RouterCancelPayload,RouterNavigationPayload,StoreRouterConnectingModule,StoreRouterConfig,StoreRouterConfigFunction,ROUTER_CONFIG,DEFAULT_ROUTER_FEATURENAME,RouterStateSerializer,DefaultRouterStateSerializer} from './public_api';\n\nexport {_ROUTER_CONFIG as ɵa,_createDefaultRouterConfig as ɵb} from './src/router_store_module';","import {\n  NgModule,\n  ModuleWithProviders,\n  InjectionToken,\n  Inject,\n} from '@angular/core';\nimport {\n  NavigationCancel,\n  NavigationError,\n  Router,\n  RouterStateSnapshot,\n  RoutesRecognized,\n} from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { of } from 'rxjs/observable/of';\nimport {\n  DefaultRouterStateSerializer,\n  RouterStateSerializer,\n} from './serializer';\n/**\n * An action dispatched when the router navigates.\n */\nexport const ROUTER_NAVIGATION = 'ROUTER_NAVIGATION';\n\n/**\n * Payload of ROUTER_NAVIGATION.\n */\nexport type RouterNavigationPayload<T> = {\n  routerState: T;\n  event: RoutesRecognized;\n};\n\n/**\n * An action dispatched when the router navigates.\n */\nexport type RouterNavigationAction<T = RouterStateSnapshot> = {\n  type: typeof ROUTER_NAVIGATION;\n  payload: RouterNavigationPayload<T>;\n};\n/**\n * An action dispatched when the router cancels navigation.\n */\nexport const ROUTER_CANCEL = 'ROUTER_CANCEL';\n\n/**\n * Payload of ROUTER_CANCEL.\n */\nexport type RouterCancelPayload<T, V> = {\n  routerState: V;\n  storeState: T;\n  event: NavigationCancel;\n};\n\n/**\n * An action dispatched when the router cancel navigation.\n */\nexport type RouterCancelAction<T, V = RouterStateSnapshot> = {\n  type: typeof ROUTER_CANCEL;\n  payload: RouterCancelPayload<T, V>;\n};\n/**\n * An action dispatched when the router errors.\n */\nexport const ROUTER_ERROR = 'ROUTE_ERROR';\n\n/**\n * Payload of ROUTER_ERROR.\n */\nexport type RouterErrorPayload<T, V> = {\n  routerState: V;\n  storeState: T;\n  event: NavigationError;\n};\n\n/**\n * An action dispatched when the router errors.\n */\nexport type RouterErrorAction<T, V = RouterStateSnapshot> = {\n  type: typeof ROUTER_ERROR;\n  payload: RouterErrorPayload<T, V>;\n};\n\n/**\n * An union type of router actions.\n */\nexport type RouterAction<T, V = RouterStateSnapshot> =\n  | RouterNavigationAction<T>\n  | RouterCancelAction<T, V>\n  | RouterErrorAction<T, V>;\n\nexport type RouterReducerState<T = RouterStateSnapshot> = {\n  state: T;\n  navigationId: number;\n};\n/**\n * @template T\n * @param {?} state\n * @param {?} action\n * @return {?}\n */\nexport function routerReducer<T = RouterStateSnapshot>(\n  state: RouterReducerState<T>,\n  action: RouterAction<any>\n): RouterReducerState<T> {\n  switch (action.type) {\n    case ROUTER_NAVIGATION:\n    case ROUTER_ERROR:\n    case ROUTER_CANCEL:\n      return {\n        state: action.payload.routerState,\n        navigationId: action.payload.event.id,\n      };\n    default:\n      return state;\n  }\n}\n\nexport type StoreRouterConfig = {\n  stateKey?: string;\n};\n\nexport const /** @type {?} */ _ROUTER_CONFIG = new InjectionToken(\n  '@ngrx/router-store Internal Configuration'\n);\nexport const /** @type {?} */ ROUTER_CONFIG = new InjectionToken(\n  '@ngrx/router-store Configuration'\n);\nexport const /** @type {?} */ DEFAULT_ROUTER_FEATURENAME = 'routerReducer';\n/**\n * @param {?} config\n * @return {?}\n */\nexport function _createDefaultRouterConfig(config: any): StoreRouterConfig {\n  let /** @type {?} */ _config = {};\n\n  if (typeof config === 'function') {\n    _config = config();\n  }\n\n  return {\n    stateKey: DEFAULT_ROUTER_FEATURENAME,\n    ..._config,\n  };\n}\n\nexport type StoreRouterConfigFunction = () => StoreRouterConfig;\n/**\n * Connects RouterModule with StoreModule.\n * \n * During the navigation, before any guards or resolvers run, the router will dispatch\n * a ROUTER_NAVIGATION action, which has the following signature:\n * \n * ```\n * export type RouterNavigationPayload = {\n *   routerState: RouterStateSnapshot,\n *   event: RoutesRecognized\n * }\n * ```\n * \n * Either a reducer or an effect can be invoked in response to this action.\n * If the invoked reducer throws, the navigation will be canceled.\n * \n * If navigation gets canceled because of a guard, a ROUTER_CANCEL action will be\n * dispatched. If navigation results in an error, a ROUTER_ERROR action will be dispatched.\n * \n * Both ROUTER_CANCEL and ROUTER_ERROR contain the store state before the navigation\n * which can be used to restore the consistency of the store.\n * \n * Usage:\n * \n * ```typescript\n * \\@NgModule({ \n *   declarations: [AppCmp, SimpleCmp],\n *   imports: [\n *     BrowserModule,\n *     StoreModule.forRoot(mapOfReducers),\n *     RouterModule.forRoot([\n *       { path: '', component: SimpleCmp },\n *       { path: 'next', component: SimpleCmp }\n *     ]),\n *     StoreRouterConnectingModule\n *   ],\n *   bootstrap: [AppCmp]\n * })\n * export class AppModule {\n * }\n * ```\n */\nexport class StoreRouterConnectingModule {\n  static forRoot(\n    config?: StoreRouterConfig | StoreRouterConfigFunction\n  ): ModuleWithProviders;\n/**\n * @param {?=} config\n * @return {?}\n */\nstatic forRoot(\n    config: StoreRouterConfig | StoreRouterConfigFunction = {}\n  ): ModuleWithProviders {\n    return {\n      ngModule: StoreRouterConnectingModule,\n      providers: [\n        { provide: _ROUTER_CONFIG, useValue: config },\n        {\n          provide: ROUTER_CONFIG,\n          useFactory: _createDefaultRouterConfig,\n          deps: [_ROUTER_CONFIG],\n        },\n      ],\n    };\n  }\nprivate routerState: RouterStateSnapshot;\nprivate storeState: any;\nprivate lastRoutesRecognized: RoutesRecognized;\nprivate dispatchTriggeredByRouter: boolean = false;\nprivate navigationTriggeredByDispatch: boolean = false;\nprivate stateKey: string;\n/**\n * @param {?} store\n * @param {?} router\n * @param {?} serializer\n * @param {?} config\n */\nconstructor(\nprivate store: Store<any>,\nprivate router: Router,\nprivate serializer: RouterStateSerializer<RouterStateSnapshot>,\nprivate config: StoreRouterConfig\n  ) {\n    this.stateKey = this.config.stateKey as string;\n\n    this.setUpBeforePreactivationHook();\n    this.setUpStoreStateListener();\n    this.setUpStateRollbackEvents();\n  }\n/**\n * @return {?}\n */\nprivate setUpBeforePreactivationHook(): void {\n    ( /** @type {?} */((<any>this.router))).hooks.beforePreactivation = (\n      routerState: RouterStateSnapshot\n    ) => {\n      this.routerState = this.serializer.serialize(routerState);\n      if (this.shouldDispatchRouterNavigation())\n        this.dispatchRouterNavigation();\n      return of(true);\n    };\n  }\n/**\n * @return {?}\n */\nprivate setUpStoreStateListener(): void {\n    this.store.subscribe(s => {\n      this.storeState = s;\n    });\n    this.store.select(this.stateKey).subscribe(() => {\n      this.navigateIfNeeded();\n    });\n  }\n/**\n * @return {?}\n */\nprivate shouldDispatchRouterNavigation(): boolean {\n    if (!this.storeState[this.stateKey]) return true;\n    return !this.navigationTriggeredByDispatch;\n  }\n/**\n * @return {?}\n */\nprivate navigateIfNeeded(): void {\n    if (\n      !this.storeState[this.stateKey] ||\n      !this.storeState[this.stateKey].state\n    ) {\n      return;\n    }\n    if (this.dispatchTriggeredByRouter) return;\n\n    if (this.router.url !== this.storeState[this.stateKey].state.url) {\n      this.navigationTriggeredByDispatch = true;\n      this.router.navigateByUrl(this.storeState[this.stateKey].state.url);\n    }\n  }\n/**\n * @return {?}\n */\nprivate setUpStateRollbackEvents(): void {\n    this.router.events.subscribe(e => {\n      if (e instanceof RoutesRecognized) {\n        this.lastRoutesRecognized = e;\n      } else if (e instanceof NavigationCancel) {\n        this.dispatchRouterCancel(e);\n      } else if (e instanceof NavigationError) {\n        this.dispatchRouterError(e);\n      }\n    });\n  }\n/**\n * @return {?}\n */\nprivate dispatchRouterNavigation(): void {\n    this.dispatchRouterAction(ROUTER_NAVIGATION, {\n      routerState: this.routerState,\n      event: new RoutesRecognized(\n        this.lastRoutesRecognized.id,\n        this.lastRoutesRecognized.url,\n        this.lastRoutesRecognized.urlAfterRedirects,\n        this.routerState\n      ),\n    });\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate dispatchRouterCancel(event: NavigationCancel): void {\n    this.dispatchRouterAction(ROUTER_CANCEL, {\n      routerState: this.routerState,\n      storeState: this.storeState,\n      event,\n    });\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate dispatchRouterError(event: NavigationError): void {\n    this.dispatchRouterAction(ROUTER_ERROR, {\n      routerState: this.routerState,\n      storeState: this.storeState,\n      event: new NavigationError(event.id, event.url, `${event}`),\n    });\n  }\n/**\n * @param {?} type\n * @param {?} payload\n * @return {?}\n */\nprivate dispatchRouterAction(type: string, payload: any): void {\n    this.dispatchTriggeredByRouter = true;\n    try {\n      this.store.dispatch({ type, payload });\n    } finally {\n      this.dispatchTriggeredByRouter = false;\n      this.navigationTriggeredByDispatch = false;\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  providers: [\n    { provide: RouterStateSerializer, useClass: DefaultRouterStateSerializer },\n    {\n      provide: _ROUTER_CONFIG,\n      useValue: { stateKey: DEFAULT_ROUTER_FEATURENAME },\n    },\n    {\n      provide: ROUTER_CONFIG,\n      useFactory: _createDefaultRouterConfig,\n      deps: [_ROUTER_CONFIG],\n    },\n  ],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Store, },\n{type: Router, },\n{type: RouterStateSerializer, },\n{type: undefined, decorators: [{ type: Inject, args: [ROUTER_CONFIG, ] }, ]},\n];\n}\n\nfunction StoreRouterConnectingModule_tsickle_Closure_declarations() {\n/** @type {?} */\nStoreRouterConnectingModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nStoreRouterConnectingModule.ctorParameters;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.routerState;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.storeState;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.lastRoutesRecognized;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.dispatchTriggeredByRouter;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.navigationTriggeredByDispatch;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.stateKey;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.store;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.router;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.serializer;\n/** @type {?} */\nStoreRouterConnectingModule.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { InjectionToken } from '@angular/core';\nimport { RouterStateSnapshot } from '@angular/router';\n/**\n * @abstract\n */\nexport abstract class RouterStateSerializer<T> {\n/**\n * @abstract\n * @param {?} routerState\n * @return {?}\n */\nserialize(routerState: RouterStateSnapshot) {}\n}\nexport class DefaultRouterStateSerializer\n  implements RouterStateSerializer<RouterStateSnapshot> {\n/**\n * @param {?} routerState\n * @return {?}\n */\nserialize(routerState: RouterStateSnapshot) {\n    return routerState;\n  }\n}\n"],"names":["of","router","store"],"mappings":"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"}